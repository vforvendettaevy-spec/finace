<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Dashboard PEA + CTO - LUKA_INVEST_PRO</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>ðŸ“Š</text></svg>" />
<style>
*{box-sizing:border-box}
body{font-family:"Segoe UI",Roboto,Arial,sans-serif;background:linear-gradient(135deg,#0a0e14 0%,#1a1f2e 100%);margin:0;padding:22px;color:#e2e8f0}
.container{max-width:1600px;margin:0 auto}
.header{background:linear-gradient(135deg,#39b46e 0%,#2d8f57 100%);color:#fff;padding:36px;border-radius:18px;margin-bottom:26px;box-shadow:0 10px 40px rgba(57,180,110,0.18);text-align:center}
.header h1{font-size:34px;margin-bottom:6px}
.header p{opacity:.95;font-size:16px}
.params-section{background:#1e2433;border-radius:14px;padding:26px;margin-bottom:22px;box-shadow:0 6px 20px rgba(0,0,0,0.4);border:1px solid #2d3748}
.params-title{font-size:20px;font-weight:700;color:#e2e8f0;margin-bottom:16px;display:flex;gap:10px;align-items:center}
.params-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px}
.param-item{background:#2d3748;padding:14px;border-radius:10px;border:1px solid #374151;transition:all .18s}
.param-item:hover{transform:translateY(-3px);border-color:#39b46e}
.param-item label{display:block;font-weight:600;color:#cbd5e0;margin-bottom:8px}
.param-item input{width:100%;padding:10px;border-radius:8px;border:1px solid #4a5568;font-size:15px;background:#1a202c;color:#e2e8f0}
.btn-primary{background:linear-gradient(135deg,#39b46e 0%,#2d8f57 100%);color:#fff;border:none;padding:12px 28px;border-radius:12px;font-weight:700;cursor:pointer;box-shadow:0 6px 18px rgba(57,180,110,.18);transition:transform .2s}
.btn-primary:hover{transform:translateY(-3px)}
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin:20px 0}
.stat-card{background:#1e2433;padding:18px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.4);border:1px solid #2d3748}
.stat-card.pea{border-left:4px solid #39b46e}
.stat-card.cto{border-left:4px solid #7a6ff0}
.stat-label{font-size:13px;color:#9ca3af;margin-bottom:8px;text-transform:uppercase}
.stat-value{font-size:28px;font-weight:800;color:#e2e8f0}
.progress-bar{background:#2d3748;height:32px;border-radius:18px;overflow:hidden;margin-top:12px}
.progress-fill{height:100%;display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff;background:linear-gradient(90deg,#39b46e,#2d8f57);transition:width .5s}
.chart-section{background:#1e2433;border-radius:14px;padding:22px;margin-bottom:22px;box-shadow:0 6px 20px rgba(0,0,0,0.4);border:1px solid #2d3748}
.section-title{font-size:18px;font-weight:800;color:#e2e8f0;margin-bottom:14px;display:flex;align-items:center;gap:8px}
.table-controls{display:grid;grid-template-columns:200px 160px 120px;gap:10px;margin-bottom:12px}
.table-controls input{padding:10px;border-radius:8px;border:1px solid #4a5568;background:#2d3748;color:#e2e8f0;font-size:15px}
.btn-add{background:linear-gradient(135deg,#7a6ff0,#6355cc);color:#fff;padding:10px;border-radius:8px;border:none;font-weight:700;cursor:pointer}
.btn-delete{background:#e53e3e;color:#fff;border:none;padding:8px 10px;border-radius:6px;cursor:pointer}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{padding:12px;text-align:left;border-bottom:1px solid #374151;color:#e2e8f0}
th{background:#2d3748;color:#cbd5e0;font-weight:700;font-size:13px}
.positive{color:#39b46e;font-weight:800}
.projection-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:14px;margin-top:10px}
.projection-card{background:linear-gradient(135deg,#7a6ff0 0%,#6355cc 100%);color:#fff;padding:16px;border-radius:10px;text-align:center}
.projection-age{font-size:20px;font-weight:800}
.projection-amount{font-size:15px;opacity:.95}
.pie-container{display:flex;justify-content:center;align-items:center;gap:40px;flex-wrap:wrap;margin-top:20px}
.pie-legend{display:flex;flex-direction:column;gap:12px}
.legend-item{display:flex;align-items:center;gap:10px;font-size:15px}
.legend-color{width:24px;height:24px;border-radius:4px}
.legend-label{color:#cbd5e0}
.legend-value{color:#e2e8f0;font-weight:700;margin-left:auto}
.scenario-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-top:16px}
.scenario-card{background:#2d3748;padding:20px;border-radius:12px;border:2px solid #374151}
.scenario-card.optimiste{border-color:#39b46e}
.scenario-card.neutre{border-color:#7a6ff0}
.scenario-card.pessimiste{border-color:#e53e3e}
.scenario-title{font-size:16px;font-weight:700;margin-bottom:12px;text-align:center}
.scenario-card.optimiste .scenario-title{color:#39b46e}
.scenario-card.neutre .scenario-title{color:#7a6ff0}
.scenario-card.pessimiste .scenario-title{color:#e53e3e}
.scenario-value{font-size:24px;font-weight:800;text-align:center;margin:8px 0}
.scenario-detail{font-size:13px;color:#9ca3af;text-align:center}
.tabs{display:flex;gap:8px;margin-bottom:16px;flex-wrap:wrap}
.tab{padding:10px 20px;background:#2d3748;border:none;border-radius:8px;color:#cbd5e0;font-weight:600;cursor:pointer;transition:all .2s}
.tab.active{background:linear-gradient(135deg,#39b46e,#2d8f57);color:#fff}
.tab:hover{transform:translateY(-2px)}
.tab-content{display:none}
.tab-content.active{display:block}
@media (max-width:900px){.scenario-grid{grid-template-columns:1fr}.table-controls{grid-template-columns:1fr 1fr}.pie-container{flex-direction:column}}
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <h1>ðŸŽ¯ Dashboard PEA + CTO</h1>
    <p>Objectif : 1 000 000 â‚¬ Ã  45 ans Â· LUKA_INVEST_PRO</p>
  </div>

  <!-- ... tout le reste du HTML inchangÃ© ... -->

<script>
/* --- TOUT LE SCRIPT EST IDENTIQUE SAUF CETTE LIGNE --- */
function dessinerGraphique(valPEA, valCTO, livret, courant) {
  const canvas = document.getElementById('pieChart');
  const ctx = canvas.getContext('2d');
  const total = valPEA + valCTO + livret + courant;
  const legend = document.getElementById('pieLegend');
  
  if (total === 0) {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = '#9ca3af';
    ctx.font = '16px sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Commence Ã  investir !', canvas.width / 2, canvas.height / 2);
    legend.innerHTML = '';
    return;
  }

  /* âœ… MODIFICATION ICI : couleur du PEA changÃ©e en #800020 */
  const data = [
    { label: 'ðŸ“Š PEA', value: valPEA, color: '#800020' },
    { label: 'ðŸ“ˆ CTO', value: valCTO, color: '#7a6ff0' },
    { label: 'ðŸ’š Livret A', value: livret, color: '#48bb78' },
    { label: 'ðŸ’³ Compte', value: courant, color: '#4299e1' }
  ].filter(x => x.value > 0);

  /* reste du code inchangÃ© */
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  const cx = canvas.width / 2;
  const cy = canvas.height / 2;
  const r = 110;
  let angle = -Math.PI / 2;
  
  data.forEach(item => {
    const slice = (item.value / total) * 2 * Math.PI;
    ctx.beginPath();
    ctx.fillStyle = item.color;
    ctx.moveTo(cx, cy);
    ctx.arc(cx, cy, r, angle, angle + slice);
    ctx.closePath();
    ctx.fill();
    
    const mid = angle + slice / 2;
    const tx = cx + Math.cos(mid) * r * 0.65;
    const ty = cy + Math.sin(mid) * r * 0.65;
    const pct = ((item.value / total) * 100).toFixed(1);
    ctx.fillStyle = '#fff';
    ctx.font = 'bold 13px sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText(pct + '%', tx, ty);
    angle += slice;
  });
  
  let html = '';
  data.forEach(item => {
    const pct = ((item.value / total) * 100).toFixed(1);
    html += `<div class="legend-item"><div class="legend-color" style="background:${item.color}"></div><span class="legend-label">${item.label}</span><span class="legend-value">${formatEuro(item.value)} (${pct}%)</span></div>`;
  });
  legend.innerHTML = html;
}
</script>
</body>
</html>
